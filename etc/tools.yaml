# DCX Tools Configuration
# Defines bundled tools, versions, and download URLs
# Used by: lib/tools.sh for automatic download

# Download behavior
settings:
  auto_download: true           # Download missing tools automatically
  verify_checksum: false        # TODO: implement checksum verification
  cache_dir: "${DC_HOME}/cache" # Download cache directory

# Tool definitions
# Each tool has: version, required (bool), and platform-specific URLs
tools:
  # Go tools (from GitHub releases)
  gum:
    version: "0.14.5"
    required: true
    description: "Terminal UI toolkit"
    urls:
      linux-amd64: "https://github.com/charmbracelet/gum/releases/download/v{version}/gum_{version}_Linux_x86_64.tar.gz"
      linux-arm64: "https://github.com/charmbracelet/gum/releases/download/v{version}/gum_{version}_Linux_arm64.tar.gz"
      darwin-amd64: "https://github.com/charmbracelet/gum/releases/download/v{version}/gum_{version}_Darwin_x86_64.tar.gz"
      darwin-arm64: "https://github.com/charmbracelet/gum/releases/download/v{version}/gum_{version}_Darwin_arm64.tar.gz"
      windows-amd64: "https://github.com/charmbracelet/gum/releases/download/v{version}/gum_{version}_Windows_x86_64.zip"
    binary: "gum"
    extract: tar.gz

  yq:
    version: "4.44.3"
    required: true
    description: "YAML processor"
    urls:
      linux-amd64: "https://github.com/mikefarah/yq/releases/download/v{version}/yq_linux_amd64.tar.gz"
      linux-arm64: "https://github.com/mikefarah/yq/releases/download/v{version}/yq_linux_arm64.tar.gz"
      darwin-amd64: "https://github.com/mikefarah/yq/releases/download/v{version}/yq_darwin_amd64.tar.gz"
      darwin-arm64: "https://github.com/mikefarah/yq/releases/download/v{version}/yq_darwin_arm64.tar.gz"
      windows-amd64: "https://github.com/mikefarah/yq/releases/download/v{version}/yq_windows_amd64.zip"
    binary: "yq_{os}_{arch}"
    extract: tar.gz

  # Rust tools (from GitHub releases)
  rg:
    version: "14.1.1"
    required: false
    description: "ripgrep - fast search"
    urls:
      linux-amd64: "https://github.com/BurntSushi/ripgrep/releases/download/{version}/ripgrep-{version}-x86_64-unknown-linux-musl.tar.gz"
      linux-arm64: "https://github.com/BurntSushi/ripgrep/releases/download/{version}/ripgrep-{version}-aarch64-unknown-linux-gnu.tar.gz"
      darwin-amd64: "https://github.com/BurntSushi/ripgrep/releases/download/{version}/ripgrep-{version}-x86_64-apple-darwin.tar.gz"
      darwin-arm64: "https://github.com/BurntSushi/ripgrep/releases/download/{version}/ripgrep-{version}-aarch64-apple-darwin.tar.gz"
      windows-amd64: "https://github.com/BurntSushi/ripgrep/releases/download/{version}/ripgrep-{version}-x86_64-pc-windows-msvc.zip"
    binary: "rg"
    extract: tar.gz

  fd:
    version: "10.2.0"
    required: false
    description: "fd - fast find"
    urls:
      linux-amd64: "https://github.com/sharkdp/fd/releases/download/v{version}/fd-v{version}-x86_64-unknown-linux-musl.tar.gz"
      linux-arm64: "https://github.com/sharkdp/fd/releases/download/v{version}/fd-v{version}-aarch64-unknown-linux-gnu.tar.gz"
      darwin-amd64: "https://github.com/sharkdp/fd/releases/download/v{version}/fd-v{version}-x86_64-apple-darwin.tar.gz"
      darwin-arm64: "https://github.com/sharkdp/fd/releases/download/v{version}/fd-v{version}-aarch64-apple-darwin.tar.gz"
      windows-amd64: "https://github.com/sharkdp/fd/releases/download/v{version}/fd-v{version}-x86_64-pc-windows-msvc.zip"
    binary: "fd"
    extract: tar.gz

  sd:
    version: "1.0.0"
    required: false
    description: "sd - fast sed"
    urls:
      linux-amd64: "https://github.com/chmln/sd/releases/download/v{version}/sd-v{version}-x86_64-unknown-linux-musl.tar.gz"
      linux-arm64: "https://github.com/chmln/sd/releases/download/v{version}/sd-v{version}-aarch64-unknown-linux-gnu.tar.gz"
      darwin-amd64: "https://github.com/chmln/sd/releases/download/v{version}/sd-v{version}-x86_64-apple-darwin.tar.gz"
      darwin-arm64: "https://github.com/chmln/sd/releases/download/v{version}/sd-v{version}-aarch64-apple-darwin.tar.gz"
      windows-amd64: "https://github.com/chmln/sd/releases/download/v{version}/sd-v{version}-x86_64-pc-windows-msvc.zip"
    binary: "sd"
    extract: tar.gz

  sg:
    version: "0.40.5"
    required: false
    description: "ast-grep - AST-based code search and rewrite"
    urls:
      linux-amd64: "https://github.com/ast-grep/ast-grep/releases/download/{version}/app-x86_64-unknown-linux-gnu.zip"
      linux-arm64: "https://github.com/ast-grep/ast-grep/releases/download/{version}/app-aarch64-unknown-linux-gnu.zip"
      darwin-amd64: "https://github.com/ast-grep/ast-grep/releases/download/{version}/app-x86_64-apple-darwin.zip"
      darwin-arm64: "https://github.com/ast-grep/ast-grep/releases/download/{version}/app-aarch64-apple-darwin.zip"
      windows-amd64: "https://github.com/ast-grep/ast-grep/releases/download/{version}/app-x86_64-pc-windows-msvc.zip"
    binary: "sg"
    archive_binary: "ast-grep"
    extract: zip
